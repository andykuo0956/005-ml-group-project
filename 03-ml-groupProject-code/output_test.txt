   encounter_id  patient_id  ...  apache_2_bodysystem  hospital_death
0         66154       25312  ...       Cardiovascular               0
1        114252       59342  ...          Respiratory               0
2        119783       50777  ...            Metabolic               0
3         79267       46918  ...       Cardiovascular               0
4         92056       34377  ...               Trauma               0
5         33181       74489  ...           Neurologic               0

[6 rows x 84 columns]
                                            Column  ...  Missing Percentage (%)
d1_potassium_max                  d1_potassium_max  ...               10.451081
d1_potassium_min                  d1_potassium_min  ...               10.451081
h1_mbp_noninvasive_max      h1_mbp_noninvasive_max  ...                9.904812
h1_mbp_noninvasive_min      h1_mbp_noninvasive_min  ...                9.904812
apache_4a_icu_death_prob  apache_4a_icu_death_prob  ...                8.665075
...                                            ...  ...                     ...
d1_sysbp_min                          d1_sysbp_min  ...                0.173367
d1_heartrate_max                  d1_heartrate_max  ...                0.158102
d1_heartrate_min                  d1_heartrate_min  ...                0.158102
icu_admit_source                  icu_admit_source  ...                0.122120
gender                                      gender  ...                0.027259

[74 rows x 3 columns]
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 91713 entries, 0 to 91712
Data columns (total 84 columns):
 #   Column                         Non-Null Count  Dtype  
---  ------                         --------------  -----  
 0   encounter_id                   91713 non-null  int64  
 1   patient_id                     91713 non-null  int64  
 2   hospital_id                    91713 non-null  int64  
 3   age                            91713 non-null  float64
 4   bmi                            91713 non-null  float64
 5   elective_surgery               91713 non-null  int64  
 6   ethnicity                      91713 non-null  object 
 7   gender                         91713 non-null  object 
 8   height                         91713 non-null  float64
 9   icu_admit_source               91713 non-null  object 
 10  icu_id                         91713 non-null  int64  
 11  icu_stay_type                  91713 non-null  object 
 12  icu_type                       91713 non-null  object 
 13  pre_icu_los_days               91713 non-null  float64
 14  weight                         91713 non-null  float64
 15  apache_2_diagnosis             91713 non-null  float64
 16  apache_3j_diagnosis            91713 non-null  float64
 17  apache_post_operative          91713 non-null  int64  
 18  arf_apache                     91713 non-null  float64
 19  gcs_eyes_apache                91713 non-null  float64
 20  gcs_motor_apache               91713 non-null  float64
 21  gcs_unable_apache              91713 non-null  float64
 22  gcs_verbal_apache              91713 non-null  float64
 23  heart_rate_apache              91713 non-null  float64
 24  intubated_apache               91713 non-null  float64
 25  map_apache                     91713 non-null  float64
 26  resprate_apache                91713 non-null  float64
 27  temp_apache                    91713 non-null  float64
 28  ventilated_apache              91713 non-null  float64
 29  d1_diasbp_max                  91713 non-null  float64
 30  d1_diasbp_min                  91713 non-null  float64
 31  d1_diasbp_noninvasive_max      91713 non-null  float64
 32  d1_diasbp_noninvasive_min      91713 non-null  float64
 33  d1_heartrate_max               91713 non-null  float64
 34  d1_heartrate_min               91713 non-null  float64
 35  d1_mbp_max                     91713 non-null  float64
 36  d1_mbp_min                     91713 non-null  float64
 37  d1_mbp_noninvasive_max         91713 non-null  float64
 38  d1_mbp_noninvasive_min         91713 non-null  float64
 39  d1_resprate_max                91713 non-null  float64
 40  d1_resprate_min                91713 non-null  float64
 41  d1_spo2_max                    91713 non-null  float64
 42  d1_spo2_min                    91713 non-null  float64
 43  d1_sysbp_max                   91713 non-null  float64
 44  d1_sysbp_min                   91713 non-null  float64
 45  d1_sysbp_noninvasive_max       91713 non-null  float64
 46  d1_sysbp_noninvasive_min       91713 non-null  float64
 47  d1_temp_max                    91713 non-null  float64
 48  d1_temp_min                    91713 non-null  float64
 49  h1_diasbp_max                  91713 non-null  float64
 50  h1_diasbp_min                  91713 non-null  float64
 51  h1_diasbp_noninvasive_max      91713 non-null  float64
 52  h1_diasbp_noninvasive_min      91713 non-null  float64
 53  h1_heartrate_max               91713 non-null  float64
 54  h1_heartrate_min               91713 non-null  float64
 55  h1_mbp_max                     91713 non-null  float64
 56  h1_mbp_min                     91713 non-null  float64
 57  h1_mbp_noninvasive_max         91713 non-null  float64
 58  h1_mbp_noninvasive_min         91713 non-null  float64
 59  h1_resprate_max                91713 non-null  float64
 60  h1_resprate_min                91713 non-null  float64
 61  h1_spo2_max                    91713 non-null  float64
 62  h1_spo2_min                    91713 non-null  float64
 63  h1_sysbp_max                   91713 non-null  float64
 64  h1_sysbp_min                   91713 non-null  float64
 65  h1_sysbp_noninvasive_max       91713 non-null  float64
 66  h1_sysbp_noninvasive_min       91713 non-null  float64
 67  d1_glucose_max                 91713 non-null  float64
 68  d1_glucose_min                 91713 non-null  float64
 69  d1_potassium_max               91713 non-null  float64
 70  d1_potassium_min               91713 non-null  float64
 71  apache_4a_hospital_death_prob  91713 non-null  float64
 72  apache_4a_icu_death_prob       91713 non-null  float64
 73  aids                           91713 non-null  float64
 74  cirrhosis                      91713 non-null  float64
 75  diabetes_mellitus              91713 non-null  float64
 76  hepatic_failure                91713 non-null  float64
 77  immunosuppression              91713 non-null  float64
 78  leukemia                       91713 non-null  float64
 79  lymphoma                       91713 non-null  float64
 80  solid_tumor_with_metastasis    91713 non-null  float64
 81  apache_3j_bodysystem           91713 non-null  object 
 82  apache_2_bodysystem            91713 non-null  object 
 83  hospital_death                 91713 non-null  int64  
dtypes: float64(70), int64(7), object(7)
memory usage: 58.8+ MB
None 0
Master dataset class distribution (Proportion):
hospital_death
0    0.913698
1    0.086302
Name: proportion, dtype: float64

 Master dataset class absolute count:
hospital_death
0    83798
1     7915
Name: count, dtype: int64

sampled_data_1 class distribution:
hospital_death
0    0.913701
1    0.086299
Name: proportion, dtype: float64

sampled_data_1 class absolute count:
hospital_death
0    13965
1     1319
Name: count, dtype: int64

sampled_data_2 class distribution:
hospital_death
0    0.913701
1    0.086299
Name: proportion, dtype: float64

sampled_data_2 class absolute count:
hospital_death
0    13965
1     1319
Name: count, dtype: int64

sampled_data_3 class distribution:
hospital_death
0    0.913701
1    0.086299
Name: proportion, dtype: float64

sampled_data_3 class absolute count:
hospital_death
0    13965
1     1319
Name: count, dtype: int64

Class distribution for derived_data_1 (Minority class ratio: 10%):
hospital_death
0    0.900039
1    0.099961
Name: proportion, dtype: float64

Class absolute count for derived_data_1:
hospital_death
0    13965
1     1551
Name: count, dtype: int64

Class distribution for derived_data_2 (Minority class ratio: 50%):
hospital_death
0    0.5
1    0.5
Name: proportion, dtype: float64

Class absolute count for derived_data_2:
hospital_death
0    13965
1    13965
Name: count, dtype: int64

Class distribution for derived_data_3 (Minority class ratio: 30%):
hospital_death
0    0.7
1    0.3
Name: proportion, dtype: float64

Class absolute count for derived_data_3:
hospital_death
0    13965
1     5985
Name: count, dtype: int64

Class distribution for train_data_1:
hospital_death
0    0.900092
1    0.099908
Name: proportion, dtype: float64

Class absolute count for train_data_1:
hospital_death
0    9775
1    1085
Name: count, dtype: int64

Class distribution for test_data_1:
hospital_death
0    0.899914
1    0.100086
Name: proportion, dtype: float64

Class absolute count for test_data_1:
hospital_death
0    4190
1     466
Name: count, dtype: int64

Class distribution for train_data_2:
hospital_death
0    0.5
1    0.5
Name: proportion, dtype: float64

Class absolute count for train_data_2:
hospital_death
0    9775
1    9775
Name: count, dtype: int64

Class distribution for test_data_2:
hospital_death
0    0.5
1    0.5
Name: proportion, dtype: float64

Class absolute count for test_data_2:
hospital_death
0    4190
1    4190
Name: count, dtype: int64

Class distribution for train_data_3:
hospital_death
0    0.700014
1    0.299986
Name: proportion, dtype: float64

Class absolute count for train_data_3:
hospital_death
0    9775
1    4189
Name: count, dtype: int64

Class distribution for test_data_3:
hospital_death
0    0.699967
1    0.300033
Name: proportion, dtype: float64

Class absolute count for test_data_3:
hospital_death
0    4190
1    1796
Name: count, dtype: int64
---------------------------------------------------model---------------------------------------------------
----- Random Forest - data1 -----
Best Parameters: {'n_estimators': 100, 'max_depth': 15}
Best Cross-Validation AUC: 0.8783

Grid Search Results:
 n_estimators  max_depth  mean_auc
          100         15  0.878264
          150         20  0.875158
          150         15  0.874980
          200         15  0.874634
          200         10  0.874353
          100         20  0.874170
          100         10  0.873604
          150         10  0.872826
          200         20  0.872775
Test AUC: 0.8996
data1 execution time: 56.4200 seconds
----- Random Forest - data2 -----
Best Parameters: {'n_estimators': 200, 'max_depth': 20}
Best Cross-Validation AUC: 0.9877

Grid Search Results:
 n_estimators  max_depth  mean_auc
          200         20  0.987690
          100         20  0.987481
          150         20  0.987379
          200         15  0.986036
          150         15  0.985221
          100         15  0.985026
          200         10  0.976245
          100         10  0.976211
          150         10  0.975883
Test AUC: 0.9922
data2 execution time: 158.9419 seconds
----- Random Forest - data3 -----
Best Parameters: {'n_estimators': 100, 'max_depth': 20}
Best Cross-Validation AUC: 0.9725

Grid Search Results:
 n_estimators  max_depth  mean_auc
          100         20  0.972473
          200         20  0.972421
          150         20  0.971885
          200         15  0.971562
          100         15  0.971038
          150         15  0.970551
          150         10  0.962221
          200         10  0.962138
          100         10  0.960885
Test AUC: 0.9785
data3 execution time: 85.7176 seconds

----- Evaluating All Models on data1 -----
Model trained on data1, tested on data1: AUC = 0.8996
Model trained on data2, tested on data1: AUC = 0.9148
Model trained on data3, tested on data1: AUC = 0.9193

----- Evaluating All Models on data2 -----
Model trained on data1, tested on data2: AUC = 0.9216
Model trained on data2, tested on data2: AUC = 0.9922
Model trained on data3, tested on data2: AUC = 0.9661

----- Evaluating All Models on data3 -----
Model trained on data1, tested on data3: AUC = 0.9182
Model trained on data2, tested on data3: AUC = 0.9600
Model trained on data3, tested on data3: AUC = 0.9785
